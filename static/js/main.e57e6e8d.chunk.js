(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return ye}));var c=n(0),r=n(26),a=n.n(r),i=n(8),s=n(16),o=n(124),u=n(25),l=n(13),d=n(80),j=n(43),b=n(126),h=n(127),p=n(9),f=n.n(p),O=n(19),x=n(65),m=n.n(x),v=m.a.create({baseURL:"http://localhost:5000/"}),g=m.a.create({baseURL:"http://localhost:5000/"});g.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e}));var y=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("api/type",t);case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("api/type");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("api/brand",t);case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("api/brand");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("api/device",t);case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(f.a.mark((function e(t,n,c,r){var a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("api/device",{params:{typeId:t,brandId:n,page:c,limit:r}});case 2:return a=e.sent,i=a.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("api/device/"+String(t));case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(f.a.mark((function e(t,n,c){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("api/rating",t,n,c);case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("api/rating",{params:{userId:t,deviceId:n}});case 2:return c=e.sent,r=c.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=n(1),_=function(e){var t=e.show,n=e.onHide,r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],o=a[1];return Object(I.jsxs)(b.a,{show:t,onHide:n,size:"lg",centered:!0,children:[Object(I.jsx)(b.a.Header,{closeButton:!0,children:Object(I.jsx)(b.a.Title,{id:"contained-modal-title-vcenter",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f"})}),Object(I.jsx)(b.a.Body,{children:Object(I.jsx)(h.a,{children:Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430",value:s,onChange:function(e){return o(e.target.value)}})})}),Object(I.jsxs)(b.a.Footer,{children:[Object(I.jsx)(j.a,{variant:"outline-success",onClick:function(){C({name:s}).then((function(e){o(""),n()}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(I.jsx)(j.a,{variant:"outline-danger",onClick:n,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})},H=n(11),E=n(2),U=n(83),R=n(125),D=n(122),F=n(79),z=Object(s.a)((function(e){var t=e.show,n=e.onHide,r=Object(c.useContext)(ye).device,a=Object(c.useState)([]),s=Object(i.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)(""),d=Object(i.a)(l,2),p=d[0],f=d[1],O=Object(c.useState)(0),x=Object(i.a)(O,2),m=x[0],v=x[1],g=Object(c.useState)(null),y=Object(i.a)(g,2),C=y[0],S=y[1],B=function(e,t,n){u(o.map((function(c){return c.id===n?Object(E.a)(Object(E.a)({},c),{},Object(H.a)({},e,t)):c})))};return Object(c.useEffect)((function(){k().then((function(e){return r.setTypes(e)})),w().then((function(e){return r.setBrands(e)}))}),[]),Object(I.jsxs)(b.a,{show:t,onHide:n,size:"lg",centered:!0,children:[Object(I.jsx)(b.a.Header,{closeButton:!0,children:Object(I.jsx)(b.a.Title,{id:"contained-modal-title-vcenter",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"})}),Object(I.jsxs)(b.a.Body,{children:[Object(I.jsxs)(R.a,{className:"mt-2 mb-2",children:[Object(I.jsx)(R.a.Toggle,{children:r.selectedType.name||"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"}),Object(I.jsx)(R.a.Menu,{children:r.types.map((function(e){return Object(I.jsx)(R.a.Item,{onClick:function(){return r.setSelectedType(e)},children:e.name},e.id)}))})]}),Object(I.jsxs)(R.a,{className:"mt-2 mb-2",children:[Object(I.jsx)(R.a.Toggle,{children:r.selectedBrand.name||"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0440\u0435\u043d\u0434"}),Object(I.jsx)(R.a.Menu,{children:r.brands.map((function(e){return Object(I.jsx)(R.a.Item,{onClick:function(){return r.setSelectedBrand(e)},children:e.name},e.id)}))})]}),Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",className:"mt-3",value:p,onChange:function(e){return f(e.target.value)}}),Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",className:"mt-3",type:"number",value:m,onChange:function(e){return Number(v(e.target.value))}}),Object(I.jsx)(h.a.Control,{className:"mt-3",type:"file",onChange:function(e){S(e.target.files[0])}}),Object(I.jsx)("hr",{}),Object(I.jsx)(j.a,{variant:"outline-dark",onClick:function(){u([].concat(Object(U.a)(o),[{title:"",description:"",id:Date.now()}]))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"}),o.map((function(e){return Object(I.jsxs)(D.a,{className:"mt-3",children:[Object(I.jsx)(F.a,{md:4,children:Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",value:e.title,onChange:function(t){return B("title",t.target.value,e.id)}})}),Object(I.jsx)(F.a,{md:4,children:Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",value:e.description,onChange:function(t){return B("description",t.target.value,e.id)}})}),Object(I.jsx)(F.a,{md:4,children:Object(I.jsx)(j.a,{variant:"outline-danger",onClick:function(){return t=e.id,void u(o.filter((function(e){return e.id!==t})));var t},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},e.id)}))]}),Object(I.jsxs)(b.a.Footer,{children:[Object(I.jsx)(j.a,{variant:"outline-success",onClick:function(){var e=new FormData;e.append("name",p),e.append("price","".concat(m)),e.append("img",C),e.append("brandId",r.selectedBrand.id),e.append("typeId",r.selectedType.id),e.append("info",JSON.stringify(o)),A(e).then((function(e){n()}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(I.jsx)(j.a,{variant:"outline-danger",onClick:n,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})})),L=function(e){var t=e.show,n=e.onHide,r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],o=a[1];return Object(I.jsxs)(b.a,{show:t,onHide:n,size:"lg",centered:!0,children:[Object(I.jsx)(b.a.Header,{closeButton:!0,children:Object(I.jsx)(b.a.Title,{id:"contained-modal-title-vcenter",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f"})}),Object(I.jsx)(b.a.Body,{children:Object(I.jsx)(h.a,{children:Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430",value:s,onChange:function(e){return o(e.target.value)}})})}),Object(I.jsxs)(b.a.Footer,{children:[Object(I.jsx)(j.a,{variant:"outline-success",onClick:function(){y({name:s}).then((function(e){o(""),n()}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(I.jsx)(j.a,{variant:"outline-danger",onClick:n,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})};var J=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(i.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)(!1),b=Object(i.a)(l,2),h=b[0],p=b[1];return Object(I.jsxs)(d.a,{className:"d-flex flex-column",children:[Object(I.jsx)(j.a,{variant:"outline-dark",className:"mt-4 p-2",onClick:function(){return u(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f"}),Object(I.jsx)(j.a,{variant:"outline-dark",className:"mt-4 p-2",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0440\u0435\u043d\u0434"}),Object(I.jsx)(j.a,{variant:"outline-dark",className:"mt-4 p-2",onClick:function(){return p(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"}),Object(I.jsx)(L,{show:o,onHide:function(){return u(!1)}}),Object(I.jsx)(_,{show:n,onHide:function(){return r(!1)}}),Object(I.jsx)(z,{show:h,onHide:function(){return p(!1)}})]})},M=n(128),Q=n(33),q=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("api/user/registration",{email:t,password:n});case 2:return c=e.sent,r=c.data,localStorage.setItem("token",r.token),e.abrupt("return",Object(Q.a)(r.token));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("api/user/login",{email:t,password:n});case 2:return c=e.sent,r=c.data,localStorage.setItem("token",r.token),e.abrupt("return",Object(Q.a)(r.token));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("api/user/auth");case 2:return t=e.sent,n=t.data,localStorage.setItem("token",n.token),e.abrupt("return",Object(Q.a)(n.token));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V="/admin",Y="/login",K="/registration",X="/",Z=Object(s.a)((function(){var e=Object(c.useContext)(ye).user,t=Object(l.h)(),n=Object(l.g)(),r=t.pathname===Y,a=Object(c.useState)(""),s=Object(i.a)(a,2),o=s[0],b=s[1],p=Object(c.useState)(""),x=Object(i.a)(p,2),m=x[0],v=x[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),k=y[0],C=y[1],w=Object(c.useState)(""),A=Object(i.a)(w,2),S=A[0],B=A[1],N=Object(c.useState)(""),T=Object(i.a)(N,2),_=T[0],H=T[1],E=Object(c.useState)(""),U=Object(i.a)(E,2),R=U[0],F=U[1],z=Object(c.useState)(""),L=Object(i.a)(z,2),J=L[0],Q=L[1],P=function(){var t=Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=13;break}if(o||B("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"),m||H("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),!o||!m){t.next=10;break}return t.next=7,G(o,m);case 7:t.sent,t.next=11;break;case 10:return t.abrupt("return");case 11:t.next=24;break;case 13:if(o||B("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"),m||H("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),k||F("\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),m&&k&&m!==k&&Q("\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),!(o&&m&&k&&m===k)){t.next=23;break}return t.next=20,q(o,m);case 20:t.sent,t.next=24;break;case 23:return t.abrupt("return");case 24:e.setUser(e),e.setIsAuth(!0),n.push(X),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(0),alert(t.t0.response.data.message);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){B("")}),[o]),Object(c.useEffect)((function(){H(""),Q("")}),[m]),Object(c.useEffect)((function(){F(""),Q("")}),[k]),Object(I.jsx)(d.a,{style:{height:window.innerHeight-54,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(I.jsxs)(M.a,{style:{width:"600px",padding:"5vw"},children:[Object(I.jsx)("h1",{className:"m-auto",children:r?"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(I.jsx)("h5",{className:"m-auto",style:{color:"red"},children:J}),Object(I.jsxs)(h.a,{style:{display:"flex",flexDirection:"column"},children:[Object(I.jsxs)("label",{style:{color:"red"},children:[Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",style:{marginTop:"2vh"},value:o,onChange:function(e){return b(e.target.value)},type:"email"}),S]}),Object(I.jsxs)("label",{style:{color:"red"},children:[Object(I.jsx)(h.a.Control,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",style:{marginTop:"2vh"},value:m,onChange:function(e){return v(e.target.value)},type:"password"}),_]}),r?Object(I.jsx)("label",{}):Object(I.jsxs)("label",{style:{color:"red"},children:[Object(I.jsx)(h.a.Control,{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u0430\u0440\u043e\u043b\u044c",style:{marginTop:"2vh"},value:k,onChange:function(e){return C(e.target.value)},type:"password"}),R]}),Object(I.jsxs)(D.a,{style:{display:"flex",justifyContent:"space-between",marginTop:"5vh",paddingLeft:"3vw",paddingRight:"3vw"},children:[r?Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2vh",whiteSpace:"pre"},children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? ",Object(I.jsx)(u.b,{to:K,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c!"})]}):Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2vh",whiteSpace:"pre"},children:["\u0415\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",Object(I.jsx)(u.b,{to:Y,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435!"})]}),Object(I.jsx)(j.a,{variant:"outline-success",onClick:P,children:r?"\u0412\u043e\u0439\u0442\u0438":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})})}));var W=function(){return Object(I.jsx)("div",{children:"Basket"})},$=n(123),ee=function(e){var t=e.show,n=e.onHide,r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],o=a[1],u=Object(l.i)().id;return Object(I.jsxs)(b.a,{show:t,onHide:n,size:"lg",centered:!0,children:[Object(I.jsx)(b.a.Header,{closeButton:!0,children:Object(I.jsx)(b.a.Title,{id:"contained-modal-title-vcenter",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440"})}),Object(I.jsx)(b.a.Body,{children:Object(I.jsx)(h.a,{children:Object(I.jsx)(h.a.Control,{style:{width:"100px",marginLeft:"auto",marginRight:"auto",textAlign:"center"},type:"number",value:s,onChange:function(e){var t;(t=e.target.value)>=0&&t<=5&&Number(o(t))}})})}),Object(I.jsxs)(b.a.Footer,{children:[Object(I.jsx)(j.a,{variant:"outline-success",onClick:function(){N({userId:Object(Q.a)(localStorage.getItem("token")).id,deviceId:u,rate:s}).then((function(e){"\u041e\u0446\u0435\u043d\u043a\u0430 \u0443\u0436\u0435 \u0431\u044b\u043b\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u0430"===e&&alert(e),window.location.reload()}))},children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c"}),Object(I.jsx)(j.a,{variant:"outline-danger",onClick:n,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})};n(114);var te=function(){var e=Object(c.useState)({info:[]}),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)("\u043d\u0435 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430"),s=Object(i.a)(a,2),o=s[0],u=s[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),p=h[0],f=h[1],O=Object(l.i)().id,x=Object(l.g)();return Object(c.useEffect)((function(){B(O).then((function(e){return r(e)})),T(Object(Q.a)(localStorage.getItem("token")).id,O).then((function(e){e&&u(e.rate)}))}),[]),Object(I.jsxs)(d.a,{className:"mt-5",children:[Object(I.jsx)("h1",{className:"d-flex justify-content-center mb-5",children:n.name}),Object(I.jsxs)(D.a,{children:[Object(I.jsx)(F.a,{md:4,className:"d-flex flex-column align-items-center",children:Object(I.jsx)($.a,{width:300,height:300,src:"http://localhost:5000/"+n.img})}),Object(I.jsx)(F.a,{md:4,children:Object(I.jsx)(D.a,{className:"d-flex flex-column align-items-center",children:Object(I.jsx)("div",{className:"d-flex justify-content-center align-items-center star",onClick:function(){return f(!0)},children:n.rating})})}),Object(I.jsx)(F.a,{md:4,children:Object(I.jsxs)(M.a,{className:"d-flex justify-content-around align-items-center",style:{width:"300px",height:"300px",fontSize:"32px",border:"5px solid lightgray"},children:[Object(I.jsxs)("h3",{children:["\u041e\u0442: ",n.price," \u0440\u0443\u0431."]}),Object(I.jsx)(j.a,{variant:"outline-dark",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})})]}),Object(I.jsxs)(d.a,{className:"mt-3 mb-3 d-flex justify-content-center",children:["\u0412\u0430\u0448\u0430 \u043e\u0446\u0435\u043d\u043a\u0430: ",o]}),Object(I.jsx)("h3",{className:"mt-5",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438:"}),Object(I.jsx)(D.a,{className:"d-flex flex-column mt-3",children:n.info.map((function(e,t){return Object(I.jsxs)(D.a,{id:e.id,style:{background:t%2===0?"lightgray":"transparent",padding:"10px"},children:[e.title,": ",e.description]})}))}),Object(I.jsx)(j.a,{className:"mt-5",variant:"dark",onClick:function(){return x.push(X)},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(I.jsx)(ee,{show:p,onHide:function(){return f(!1)}})]})},ne=Object(s.a)((function(){var e=Object(c.useContext)(ye).device;return Object(I.jsx)(D.a,{className:"d-flex flex-row m-3",children:e.brands.map((function(t){return Object(I.jsx)(M.a,{style:{cursor:"pointer",width:"auto"},bg:t.id===e.selectedBrand.id?"primary":"",text:t.id===e.selectedBrand.id?"light":"",className:"p-3",onClick:function(){return t.id===e.selectedBrand.id?e.setSelectedBrand({}):e.setSelectedBrand(t)},children:t.name},t.id)}))})})),ce=function(e){var t=e.device,n=Object(l.g)();return Object(I.jsx)(F.a,{md:3,className:"mt-3",onClick:function(){return n.push("/device/"+t.id)},children:Object(I.jsxs)(M.a,{style:{cursor:"pointer",width:"200px"},border:"light",children:[Object(I.jsx)($.a,{src:"http://localhost:5000/"+t.img,style:{height:"200px",width:"200px"}}),Object(I.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2 h6",children:[Object(I.jsx)("div",{children:t.name}),Object(I.jsxs)("div",{className:"d-flex align-items-center text-black-50",children:[Object(I.jsx)("div",{style:{marginRight:"6px"},children:t.rating}),Object(I.jsx)($.a,{styles:{width:"20px",height:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANCAYAAACZ3F9/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC/SURBVHgBlVGxEcIwDNQRBqCki0fwBqSjJBvACLRUsAEjMAIjAB0lG3B0dKGkM6/wvvMFi1z+7k+JXy/JciE2dqAHrzIADryDDTjJJRSGcU3DE5yCFxnQbQZWVtcxxQUNnvGcdLnRrPHF2GorMIBHFigzU5Sc4MTcOgrRvBQbZs4/c93V0q3q7HrHt/xucc7zTTwYdRIcCygqFlI8ku8sdBx9Q11Cw/8DiwTL5CmqYSvft3M0BjK38TZpz9irfQDPti+nOVaKJgAAAABJRU5ErkJggg=="})]})]}),Object(I.jsxs)("div",{children:[t.price," \u0420\u0443\u0431."]})]})})},re=Object(s.a)((function(){var e=Object(c.useContext)(ye).device;return Object(I.jsx)(D.a,{className:"d-flex flex-row m-3",children:e.devices.map((function(e){return Object(I.jsx)(ce,{device:e},e.id)}))})})),ae=n(129),ie=Object(s.a)((function(){for(var e=Object(c.useContext)(ye).device,t=Math.ceil(e.totalCount/e.limit),n=[],r=0;r<t;r++)n.push(r+1);return Object(I.jsx)(ae.a,{className:"d-flex justify-content-center mt-5",children:n.map((function(t){return Object(I.jsx)(ae.a.Item,{active:e.page===t,onClick:function(){return e.setPage(t)},children:t},t)}))})})),se=n(130),oe=Object(s.a)((function(){var e=Object(c.useContext)(ye).device;return Object(I.jsx)(se.a,{className:"mt-3",children:e.types.map((function(t){return Object(I.jsx)(se.a.Item,{style:{cursor:"pointer"},id:t.id,active:t.id===e.selectedType.id,onClick:function(){return t.id===e.selectedType.id?e.setSelectedType({}):e.setSelectedType(t)},children:t.name})}))})})),ue=Object(s.a)((function(){var e=Object(c.useContext)(ye).device;return Object(c.useEffect)((function(){k().then((function(t){return e.setTypes(t)})),w().then((function(t){return e.setBrands(t)})),S(null,null,e.page,e.limit).then((function(t){e.setDevices(t.rows),e.setTotalCount(t.count)}))}),[]),Object(c.useEffect)((function(){S(e.selectedType.id,e.selectedBrand.id,e.page,e.limit).then((function(t){e.setDevices(t.rows),e.setTotalCount(t.count)}))}),[e.page,e.selectedType,e.selectedBrand]),Object(I.jsx)(d.a,{children:Object(I.jsxs)(D.a,{children:[Object(I.jsx)(F.a,{md:3,children:Object(I.jsx)(oe,{})}),Object(I.jsxs)(F.a,{md:9,children:[Object(I.jsx)(ne,{}),Object(I.jsx)(re,{}),Object(I.jsx)(ie,{})]})]})})})),le=[{path:V,Component:J},{path:"/basket",Component:W}],de=[{path:Y,Component:Z},{path:K,Component:Z},{path:X,Component:ue},{path:"/device/:id",Component:te}];var je=function(){var e=Object(c.useContext)(ye).user;return Object(I.jsxs)(l.d,{children:[e.isAuth&&le.map((function(e){var t=e.path,n=e.Component;return Object(I.jsx)(l.b,{path:t,component:n,exact:!0},t)})),de.map((function(e){var t=e.path,n=e.Component;return Object(I.jsx)(l.b,{path:t,component:n,exact:!0},t)})),Object(I.jsx)(l.a,{to:X})]})},be=n(82),he=n(68),pe=Object(s.a)((function(){var e=Object(c.useContext)(ye).user,t=Object(l.g)();return Object(I.jsx)(be.a,{bg:"dark",variant:"dark",children:Object(I.jsxs)(d.a,{children:[Object(I.jsx)(u.b,{style:{color:"white",textDecoration:"none",cursor:"pointer",fontFamily:"fantasy",fontSize:"26px"},to:X,children:"BUY IT!"}),e.isAuth?Object(I.jsxs)(he.a,{style:{color:"white",marginLeft:"auto"},children:["ADMIN"===Object(Q.a)(localStorage.getItem("token")).role?Object(I.jsx)(j.a,{to:Y,variant:"outline-light",onClick:function(){return t.push(V)},children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}):Object(I.jsx)(I.Fragment,{}),Object(I.jsx)(j.a,{to:Y,variant:"outline-light",onClick:function(){return e.setUser({}),void e.setIsAuth(!1)},style:{marginLeft:"0.6vw"},children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(I.jsx)(he.a,{style:{color:"white",marginLeft:"auto"},children:Object(I.jsx)(j.a,{to:Y,onClick:function(){return t.push(Y)},variant:"outline-light",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})})})),fe=Object(s.a)((function(){var e=Object(c.useContext)(ye).user,t=Object(c.useState)(!0),n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){P().then((function(t){e.setUser(!0),e.setIsAuth(!0)})).finally((function(){return a(!1)}))}),[]),r?Object(I.jsx)(o.a,{animation:"grow"}):Object(I.jsxs)(u.a,{children:[Object(I.jsx)(pe,{}),Object(I.jsx)(je,{})]})})),Oe=n(40),xe=n(41),me=n(14),ve=function(){function e(){Object(Oe.a)(this,e),this._types=[],this._brands=[],this._devices=[],this._selectedType={},this._selectedBrand={},this._page=1,this._totalCount=0,this._limit=2,Object(me.d)(this)}return Object(xe.a)(e,[{key:"setTypes",value:function(e){this._types=e}},{key:"setBrands",value:function(e){this._brands=e}},{key:"setDevices",value:function(e){this._devices=e}},{key:"setSelectedType",value:function(e){this.setPage(1),this._selectedType=e}},{key:"setSelectedBrand",value:function(e){this.setPage(1),this._selectedBrand=e}},{key:"setPage",value:function(e){this._page=e}},{key:"setTotalCount",value:function(e){this._totalCount=e}},{key:"setLimit",value:function(e){this._limit=e}},{key:"types",get:function(){return this._types}},{key:"brands",get:function(){return this._brands}},{key:"devices",get:function(){return this._devices}},{key:"selectedType",get:function(){return this._selectedType}},{key:"selectedBrand",get:function(){return this._selectedBrand}},{key:"page",get:function(){return this._page}},{key:"totalCount",get:function(){return this._totalCount}},{key:"limit",get:function(){return this._limit}}]),e}(),ge=function(){function e(){Object(Oe.a)(this,e),this._isAuth=!1,this._user={},Object(me.d)(this)}return Object(xe.a)(e,[{key:"setIsAuth",value:function(e){this._isAuth=e}},{key:"setUser",value:function(e){this._user=e}},{key:"isAuth",get:function(){return this._isAuth}},{key:"user",get:function(){return this._user}}]),e}(),ye=Object(c.createContext)(null);a.a.render(Object(I.jsx)(ye.Provider,{value:{user:new ge,device:new ve},children:Object(I.jsx)(fe,{})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.e57e6e8d.chunk.js.map